@model List<CategoriesServiceModel>
@{
    ViewData["Title"] = "Categories";
}

<div class="col-lg-3 py-5">
    <div class="sidenav">
        @foreach (var category in Model)
        {
            if (category.IsTopCategory)
            {
                if (category.ChiledCategories.Count() > 0)
                {
                    <button class="parent btn btn-primary text-white col-12 my-1 text-left">
                        @category.Name
                        <i class="fa fa-caret-down"></i>
                    </button>
                    <div class="childrenCategories">
                        @foreach (var chiledCategory in category.ChiledCategories)
                        {
                            <a asp-area="Shop" asp-controller="Products" asp-action="ByCategory" asp-route-id="@chiledCategory.Id" class="dropdown-item">@chiledCategory.Name</a>
                        }
                    </div>
                }
                else
                {
                    <a asp-area="Shop" asp-controller="Products" asp-action="ByCategory" asp-route-id="@category.Id" class="btn btn-primary text-white col-12 my-1 text-left">@category.Name</a>
                }
            }
        }
    </div>
</div>



